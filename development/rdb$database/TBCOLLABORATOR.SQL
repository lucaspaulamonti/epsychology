/*
	TBCOLLABORATOR: TABLE FOR STORING COLLABORATOR INFORMATION
	THIS TABLE MUST BE A MIRROR OF THE TABLE TBCUSTOMER
	COMPLETED/REVIEWED 27/08/2024
*/

CREATE TABLE TBCOLLABORATOR (
	ID_ SERIAL NOT NULL PRIMARY KEY,

	NAME_BIOLOGICAL VARCHAR(150) NOT NULL,
    NAME_SOCIAL VARCHAR(150),
    BIRTH DATE,

    COMPROVSITCAD CHAR(14),
	REGISTROGERAL CHAR(12),
    REGISTROALUNO CHAR(6),

    IDBIOLOGICALSEX_ INTEGER,
	IDSEXUALORIENTATION_ INTEGER,
	IDGENDEREXPRESSION_ INTEGER,
	IDGENDERIDENTITY_ INTEGER,

	IDMARITAL_ INTEGER,
	IDRELIGION_ INTEGER,
	IDBLOOD_ INTEGER,
	IDZODIAC_ INTEGER,
	IDETHNICITY_ INTEGER,
	IDOCCUPATION_ INTEGER,

	ADDRESS VARCHAR(100),
	NUMBER VARCHAR(10),
	DISTRICT VARCHAR(45),
	COMPLEMENT VARCHAR(75),
	CEP CHAR(9),
	IDCITY_ INTEGER,

	DDD CHAR(2),
	FONE CHAR(11),
	MAIL VARCHAR(75),

	OBSERVATION VARCHAR(255),

	FOREIGN KEY (IDBIOLOGICALSEX_) REFERENCES TBBIOLOGICALSEX (ID_),
	FOREIGN KEY (IDSEXUALORIENTATION_) REFERENCES TBSEXUALORIENTATION (ID_),
	FOREIGN KEY (IDGENDEREXPRESSION_) REFERENCES TBGENDEREXPRESSION (ID_),
	FOREIGN KEY (IDGENDERIDENTITY_) REFERENCES TBGENDERIDENTITY (ID_),

	FOREIGN KEY (IDMARITAL_) REFERENCES TBMARITAL (ID_),
	FOREIGN KEY (IDRELIGION_) REFERENCES TBRELIGION (ID_),
	FOREIGN KEY (IDBLOOD_) REFERENCES TBBLOOD (ID_),
	FOREIGN KEY (IDZODIAC_) REFERENCES TBZODIAC (ID_),
	FOREIGN KEY (IDETHNICITY_) REFERENCES TBETHNICITY (ID_),
	FOREIGN KEY (IDOCCUPATION_) REFERENCES TBOCCUPATION (ID_),

    FOREIGN KEY (IDCITY_) REFERENCES TBCITY (ID_)
);

COMMIT WORK;

COMMENT ON TABLE TBCOLLABORATOR IS 'TABLE FOR STORING COLLABORATOR INFORMATION';

COMMENT ON COLUMN TBCOLLABORATOR.ID_ IS 'UNIQUE IDENTIFIER FOR THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.NAME_BIOLOGICAL IS 'BIOLOGICAL NAME OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.NAME_SOCIAL IS 'SOCIAL NAME OF THE COLLABORATOR (IF APPLICABLE)';
COMMENT ON COLUMN TBCOLLABORATOR.BIRTH IS 'COLLABORATORS DATE OF BIRTH';

COMMENT ON COLUMN TBCOLLABORATOR.COMPROVSITCAD IS 'COLLABORATORS CPF (TAXPAYER IDENTIFICATION NUMBER)';
COMMENT ON COLUMN TBCOLLABORATOR.REGISTROGERAL IS 'COLLABORATORS RG (GENERAL REGISTRATION NUMBER)';
COMMENT ON COLUMN TBCOLLABORATOR.REGISTROALUNO IS 'COLLABORATORS RA (STUDENT REGISTRATION NUMBER)';

COMMENT ON COLUMN TBCOLLABORATOR.IDBIOLOGICALSEX_ IS 'FOREIGN KEY REFERENCING THE BIOLOGICAL SEX OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDSEXUALORIENTATION_ IS 'FOREIGN KEY REFERENCING THE SEXUAL ORIENTATION OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDGENDEREXPRESSION_ IS 'FOREIGN KEY REFERENCING THE GENDER EXPRESSION OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDGENDERIDENTITY_ IS 'FOREIGN KEY REFERENCING THE GENDER IDENTITY OF THE COLLABORATOR';

COMMENT ON COLUMN TBCOLLABORATOR.IDMARITAL_ IS 'FOREIGN KEY REFERENCING THE MARITAL STATUS OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDRELIGION_ IS 'FOREIGN KEY REFERENCING THE RELIGION OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDBLOOD_ IS 'FOREIGN KEY REFERENCING THE BLOOD TYPE OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDZODIAC_ IS 'FOREIGN KEY REFERENCING THE ZODIAC SIGN OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDETHNICITY_ IS 'FOREIGN KEY REFERENCING THE ETHNICITY OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.IDOCCUPATION_ IS 'FOREIGN KEY REFERENCING THE OCCUPATION OF THE COLLABORATOR';

COMMENT ON COLUMN TBCOLLABORATOR.ADDRESS IS 'STREET ADDRESS OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.NUMBER IS 'ADDRESS NUMBER OF THE COLLABORATOR';
COMMENT ON COLUMN TBCOLLABORATOR.DISTRICT IS 'DISTRICT OF THE COLLABORATORS ADDRESS';
COMMENT ON COLUMN TBCOLLABORATOR.COMPLEMENT IS 'ADDITIONAL ADDRESS INFORMATION (E.G., APARTMENT NUMBER)';
COMMENT ON COLUMN TBCOLLABORATOR.CEP IS 'POSTAL CODE (CEP) OF THE COLLABORATORS ADDRESS';
COMMENT ON COLUMN TBCOLLABORATOR.IDCITY_ IS 'FOREIGN KEY REFERENCING THE CITY OF THE COLLABORATORS ADDRESS';

COMMENT ON COLUMN TBCOLLABORATOR.DDD IS 'AREA CODE OF THE COLLABORATORS PHONE NUMBER';
COMMENT ON COLUMN TBCOLLABORATOR.FONE IS 'COLLABORATORS PHONE NUMBER';
COMMENT ON COLUMN TBCOLLABORATOR.MAIL IS 'COLLABORATORS EMAIL ADDRESS';

COMMENT ON COLUMN TBCOLLABORATOR.OBSERVATION IS 'ADDITIONAL OBSERVATIONS REGARDING THE COLLABORATOR';

COMMIT WORK;

INSERT INTO TBCOLLABORATOR (
	NAME_BIOLOGICAL, NAME_SOCIAL, BIRTH, 
	DOC_COMPROVSITCAD, DOC_REGISTROGERAL, DOC_REGISTROALUNO, 
	IDBIOLOGICALSEX_, IDSEXUALORIENTATION_, IDGENDEREXPRESSION_, IDGENDERIDENTITY_, 
	IDMARITAL_, IDRELIGION_, IDBLOOD_, IDZODIAC_, IDETHNICITY_, IDOCCUPATION_, 
	ADDRESS, NUMBER, DISTRICT, COMPLEMENT, CEP, IDCITY_, 
	DDD, FONE, MAIL, OBSERVATION) 
VALUES (
	'JOAO SILVA', 'JOANA SILVA', '1990-01-01', 
	'123.456.789-00', 'MG-12.345.678', '123456', 
	1, 2, 3, 4, 
	1, 2, 3, 4, 5, 6, 
	'RUA DAS FLORES', '123', 'CENTRO', 'APT 101', '12345-678', 1, 
	'31', '998765432', 'JOANA.SILVA@EXAMPLE.COM', NULL
);

COMMIT WORK;