CREATE TABLE IF NOT EXISTS STATEGEOGRAPHIC (
	ID INTEGER,
	ID_COUNTRY INTEGER,
	DESCRIPTION VARCHAR(75),

	CONSTRAINT PK_STATEGEOGRAPHIC__ID PRIMARY KEY (ID),
	CONSTRAINT FK_STATEGEOGRAPHIC_COUNTRY__ID_COUNTRY FOREIGN KEY (ID_COUNTRY) REFERENCES COUNTRYGEOGRAPHIC (ID),
	CONSTRAINT NN_STATEGEOGRAPHIC__ID_COUNTRY CHECK (ID_COUNTRY IS NOT NULL),
	CONSTRAINT NN_STATEGEOGRAPHIC__DESCRIPTION CHECK (DESCRIPTION IS NOT NULL)
);

CREATE SEQUENCE IF NOT EXISTS SQ_STATEGEOGRAPHIC__ID;

ALTER SEQUENCE SQ_STATEGEOGRAPHIC__ID RESTART WITH 1;

CREATE OR REPLACE FUNCTION BI_STATEGEOGRAPHIC__ID()
RETURNS TRIGGER AS
$$
BEGIN
  IF NEW.ID IS NULL THEN
    NEW.ID := NEXTVAL('SQ_STATEGEOGRAPHIC__ID');
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE PLPGSQL;

CREATE OR REPLACE TRIGGER BI_STATEGEOGRAPHIC__ID
BEFORE INSERT ON STATEGEOGRAPHIC
FOR EACH ROW
EXECUTE FUNCTION BI_STATEGEOGRAPHIC__ID();

INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('ACRE', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('ALAGOAS', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('AMAPA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('AMAZONAS', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('BAHIA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('CEARA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('ESPIRITO SANTO', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('GOIAS', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('MARANHAO', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('MATO GROSSO', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('MATO GROSSO DO SUL', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('MINAS GERAIS', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('PARA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('PARAIBA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('PARANA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('PERNAMBUCO', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('PIAUI', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('RIO DE JANEIRO', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('RIO GRANDE DO NORTE', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('RIO GRANDE DO SUL', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('RONDONIA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('RORAIMA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('SANTA CATARINA', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('SAO PAULO', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('SERGIPE', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('TOCANTINS', 1);
INSERT INTO STATEGEOGRAPHIC (DESCRIPTION, ID_COUNTRY) VALUES ('DISTRITO FEDERAL', 1);
